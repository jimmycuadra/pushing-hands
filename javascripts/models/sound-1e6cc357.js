(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};ph.Sound=function(t){function r(){return this.stateChanged=e(this.stateChanged,this),this.ended=e(this.ended,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.defaults={state:"paused"},r.prototype.initialize=function(){return this._audio=document.getElementById(this.get("name")),this.get("music")&&(this._audio.volume=.3),this._audio.addEventListener("ended",this.ended),this._audio.addEventListener("pause",this.stateChanged),this._audio.addEventListener("play",this.stateChanged)},r.prototype.ended=function(e){return this.trigger("ended")},r.prototype.stateChanged=function(e){return this._audio.paused?this.set({state:"paused"}):this.set({state:"playing"})},r.prototype.isPlaying=function(){return!this.isPaused()},r.prototype.isPaused=function(){return this.get("state")==="paused"},r.prototype.play=function(){return this._audio.play()},r.prototype.pause=function(){return this._audio.pause()},r.prototype.reset=function(){return this.pause(),this._audio.currentTime=0},r}(Backbone.Model)}).call(this);